# TRPG-Dice-Roller

★ TRPG 跑团掷骰模拟器 ★

------

This program simulates dice rolling based on predefined expressions, which is an early version of the Dice Roller.

本项目基于预先规定的表达式进行骰点，并输出结果。是一个 Dice Roller 的早期功能性测试版本。

## 使用手册

1. **基础模块**

    **输入**：掷骰表达式，如 "3d6+2"，表示投掷 3 个 6 面骰并加上 2。
    **需求值检定**：如 "10/3d6+2"，表示投掷 3 个 6 面骰并加上 2，判断是否小于等于 10。
    **检定结果输出**：根据骰点结果比较需求值的大小，输出是否成功。成功规则请看下述。

2. **快速roll点**

    ".r"：立即投掷一个百面骰，输出结果。
    ".r n"：立即投掷一个 n 面骰，输出结果。
    **注**：快速roll点指令不进行检定，只输出骰点结果；不支持快速重复检定。

3. **快速重复检定**

    ".d"：连续进行两次相同的检定，分别按行输出两次的检定结果。
    ".t"：连续进行三次相同的检定，分别按行输出三次的检定结果。
    ".m -n"：连续进行 n 次相同的检定，分别按行输出 n 次的检定结果。

4. **成功判断**

    **常规难度**：投出的点数只需要小于等于需求值即通过检定。默认即为此情况。
    **困难难度**：投出的点数需要小于等于需求值的一半（向下取整）才能检定通过。对应指令"-h"。
    **极难难度**：投出的点数需要小于等于需求值的1/5（向下取整）才能检定通过。对应指令"-e"。
    **大成功**：投掷百面骰时，骰出1即为大成功。输出"大成功！"。
    **大失败**：投掷百面骰时，骰出96-100即为大失败。输出"大失败！"。
    **孤注一掷**：在原有难度判断的基础上，只要失败了就一律视为大失败。对应指令"-g"。

5. **示例输入输出**

    - "3d6+2" -> "3d6+2: 4+5+6+2=17"

    - ".d 1d6" ->
        -> "第 1 次 -> 1d6: 3=3"
            "第 2 次 -> 1d6: 6=6"

    - "20/1d100+2" -> "1d100+2: 15+2=17, 17<=20, 检定通过！"

    - "40/1d100+2 -h" -> "1d100+2: 15+2=17, 17<=20, 困难检定通过！"

    - "50/1d100+2 -e" -> "1d100+2: 15+2=17, 17>10, 极难检定失败！"

    - "20/1d100 -g" -> "1d100: 50=50, 50>20, 孤注一掷失败，视为大失败！"

    - "100/1d100 -e -g" -> "1d100: 50=50, 50>20, 极难孤注一掷失败，视为大失败！"

    - ".r" -> "1d100: 50=50"

    - ".r 20" -> "1d20: 10=10"

    - ".m -2 40/1d100+2 -h" ->
         -> "第 1 次 -> 1d100+2: 15+2=17, 17<=20, 困难检定通过！"
             "第 2 次 -> 1d100+2: 55+2=57, 57>20, 困难检定失败！"
